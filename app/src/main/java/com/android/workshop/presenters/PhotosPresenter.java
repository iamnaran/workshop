package com.android.workshop.presenters;import android.util.Log;import com.android.workshop.apiservices.ApiClient;import com.android.workshop.apiservices.PhotosApiService;import com.android.workshop.helper.UpasargaCallBack;import com.android.workshop.models.Photos;import com.android.workshop.models.SampleData;import com.google.gson.GsonBuilder;import java.lang.ref.WeakReference;import java.util.List;import retrofit2.Call;import retrofit2.Callback;import retrofit2.Response;public class PhotosPresenter {    private WeakReference<View> view;    public PhotosPresenter(View view) {        this.view = new WeakReference<>(view);    }    private PhotosPresenter.View getView() throws NullPointerException {        if (view != null)            return view.get();        else            throw new NullPointerException("View is unavailable");    }    public interface View {        void onResponseSuccess(List<Photos> photosList);        void onResponseFailure(String message);    }    public void getPhotos() {        PhotosApiService photosApiService = ApiClient.getClient().create(PhotosApiService.class);        photosApiService.requestSampleData().enqueue(new UpasargaCallBack<List<Photos>>() {            @Override            public void onResponse(Call<List<Photos>> call, Response<List<Photos>> response) {                if (response.isSuccessful()) {                    if (getView() != null) {                        getView().onResponseSuccess(response.body());                        Log.e("onResponse Presenter", new GsonBuilder().create().toJson(response.body()));                    }                } else {                    if (getView() != null) {                        getView().onResponseFailure("Opps! Some error occurred");                    }                }            }            @Override            public void onFailure(Call<List<Photos>> call, Throwable t) {                if (getView() != null) {                    getView().onResponseFailure("Opps! Some error occurred");                }            }        });    }}